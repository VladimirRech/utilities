<html>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"> 
<head />

<body>
	<h1>Conversão de horas</h1>
	<p>Digite a duração no formato HH:MM ou decimal nn,nnn:</p>
	<input id="txtElapsed" size="50" />
	<button id="btnAction" type="button"
		    onclick="convert()">
			Converter</button>
	<p id="changeText" />
	<script>
		// Converte horas
		function convert() {
			var _elapsed = document.getElementById("txtElapsed").value;
			
			if(_elapsed.indexOf(":") >= 0)
				h2d(_elapsed);
				
			else if(_elapsed.indexOf(",") >= 0)
				d2h(_elapsed);
				
			else {
				document.getElementById("changeText").innerHTML = "Informe um valor correto.";
			}
		}
		
		function h2d(_elapsed){
			var _arr = _elapsed.split(":");
			
			if(_arr.length != 2) {
			   document.getElementById("changeText").innerHTML = "Informe um valor correto.";
			   return;
			}
			   
			var _hour = parseFloat(_arr[0]);
			_hour += parseInt(_arr[1]) / 60;			
			document.getElementById("changeText").innerHTML = _hour.toPrecision(4);
		}
		
		function d2h(_elapsed){
			var _arr = _elapsed.split(",");
			
			if(_arr.length != 2) {
			   document.getElementById("changeText").innerHTML = "Informe um valor correto.";
			   return;
			}
			
			var _hour = _arr[0];
			var _min = parseFloat("0." + _arr[1]);
			_min *= parseFloat(0.6) * parseFloat(100);
			document.getElementById("changeText").innerHTML = _hour + ":" + lpad(_min.toString(), "0",2);
		}
		
		//pads left
		function lpad(str, padString, length) {
			while (str.length < length)
				str = padString + str;
			return str;
		}
		
		//pads right
		function rpad(str, padString, length) {
			while (str.length < length)
				str = str + padString;
			return str;
		}
	</script>
</body>

</html>